中文 | [EN](https://github.com/YYHEggEgg/HappyGenyuanImsactUpdate/blob/main/README.md)

# HappyGenyuanImsactUpdate
A hdiff-using update program of a certain anime game.

## 新版本特性
### v2.3.1
- 修复了“无校验”模式   
  这尤其在您的更新进程意外中断时有用 - 你可以尝试再次更新，运气好可以不用再载完整包。

### v2.3.0
- 一直咕的代码重构做完了！
- 修复了特定非法输入导致程序崩溃的问题

### v2.2.1
- 现支持有子文件夹的压缩包。
- 修复了文件删除过程中的问题。
- 现在，更新检查只有在全部更新包 patch 完后才会进行。

### v2.1.2
- 如果您使用官方版本，通常升级包就在游戏目录下。       
  我们对这种情况添加了支持，现在您将 `zip` 文件名粘贴至控制台时，我们会默认其为一个**相对路径**，并认为它所在的目录为游戏目录。
- 现在，在更新完毕后，程序会询问您是否要删除更新包。更新完后，更新包通常不必留存。
- 优化了检查过程 - **如果更新前的文件本就不正确，程序不会允许您进行进一步的更新。**

### v2.0
现在，如果您使用从官方启动器下载的游戏版本，程序将会指导您使官方启动器显示正确的游戏版本。      
一般情况下，程序可以自动判断将要更新到的版本，但是需要您亲自确认。
在需要您确认下一步操作时，程序会发送一条通知（在 Windows 10 以上可用），使您能够在更新进行时处理其他事务，需要时再打开程序操作。     

在 2.0 及以后的版本中，更新完成后程序也会第一时间发送通知。

## 如何找到游戏目录文件夹    
1. 打开启动器   
2. 点击“启动”旁的菜单    
![Launcher UI](https://raw.githubusercontent.com/YYHEggEgg/HappyGenyuanImsactUpdate/main/Tutorial%20Images/rel_v2.1.2%2B/img01.jpg)    

3. 点击“安装位置”选项
4. 找到启动器显示的文件夹 (**注意：图片仅供参考，目录在您自己的电脑上与图片中不同！**)
![Installation Location](https://raw.githubusercontent.com/YYHEggEgg/HappyGenyuanImsactUpdate/main/Tutorial%20Images/rel_v2.1.2%2B/img02.jpg)  

如果您已从官方启动器预下载了更新文件，也可以在内看到两个更新包（通常为 `.zip` 文件）。

## 如何使用
你需要以下文件:

- 游戏文件
- 一个或多个zip更新包
- 在 [release](https://github.com/YYHEggEgg/HappyGenyuanImsactUpdate/releases) 下载的本程序最新发行版

您可以参考这里的指示使用程序。     
首先，您需要将游戏目录（目录下有 Yuansact.exe 或 GenyuanImsact.exe）输入程序，         
其次，程序会询问您是否要在更新后检查文件正确性。
- 输入0 - 请勿进行任何检查
- 输入1 - _（推荐使用）_ 仅检查文件大小是否符合预期（过程一般在 10s 以内，大多数情况下足够）
- 输入2 - 获取 MD5 进行完全检查（速度取决于硬盘性能，如果游戏数据没有存放在 SSD 之类的高速驱动器上将会需要很长时间）

然后输入您的更新包（通常是 zip 文件）**数量**。     
在这之后，您只需要依次粘贴所有更新包的路径即可开始更新。

通常，在更新完成后，如果您使用从官方启动器下载的游戏版本，程序将会指导您使官方启动器显示正确的游戏版本。     
程序会告知您检测到的版本更新状态，如果版本正确只需按 `y` 确认即可，不想进行更改也可按 `n` 取消。       
如果程序显示的版本不正确，您也可以输入正确的版本并继续。

Enjoy it!
